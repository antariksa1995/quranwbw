<!doctype html>
<html lang="en">
	<head>
		<title>QuranWBW.com</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="og:type" content="website" />
		<meta name="theme-color" content="#ffffff" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="mobile-web-app-capable" content="yes" />
		<meta name="description" content="Quran Word By Word Translation, Transliteration And Morphology in English, Urdu, Hindi, Indonesian, Bangla, Turkish, Tamil, French, German, Russian, Ingush, Chinese, Malayalam, Divehi and Persian - QuranWBW.com" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="preload" href="%sveltekit.assets%/fonts/hafs/uthmanic_hafs_v22.woff2" as="font" type="font/woff2" crossorigin />
		<link rel="preload" href="%sveltekit.assets%/fonts/indopak/AlQuranIndoPakv5byQuranWBW.com-Regular.woff2" as="font" type="font/woff2" crossorigin />
		<link rel="preload" href="%sveltekit.assets%/fonts/bismillah/QCF_Bismillah_COLOR-Regular.woff2" as="font" type="font/woff2" crossorigin />
		<link crossorigin="anonymous" rel="manifest" href="%sveltekit.assets%/manifest.json" />
		<link crossorigin="anonymous" rel="icon" type="image/png" href="%sveltekit.assets%/images/favicon.png" />
		<link crossorigin="anonymous" href="%sveltekit.assets%/images/apple-touch-icon.png" rel="apple-touch-icon" />
		<link crossorigin="anonymous" rel="stylesheet" href="%sveltekit.assets%/css/global.css?version=28" />

		<!-- 
		If the user's browser do not support Optional chaining (?.), redirect to old v3 website
		issue: https://github.com/sveltejs/kit/issues/5209
		credits: https://stackoverflow.com/a/69935847 
		caniuse: https://caniuse.com/mdn-javascript_operators_optional_chaining
		-->
		<script>
			try {
				eval('const foo = {}; foo?.bar');
			} catch {
				alert('Important Note: QuranWBW.com has recently been updated. Unfortunately, your current browser version is not compatible with the latest update. We recommend updating your browser to the latest version and trying again. To ensure a seamless experience, you will be redirected to the previous version once you close this alert.');
				window.location.replace('https://old.quranwbw.com');
			}
		</script>

		<!-- background colors -->
		<script>
			window.websiteColors = {
				1: `bg-white`,
				2: `bg-[#02021b]`,
				3: `bg-[#001617]`,
				4: `bg-black`,
				5: `bg-[#e9e3d7]`,
				6: `bg-white`,
				7: `bg-[#20161f]`,
				8: `bg-[#e1e1e1]`
			};
		</script>

		<!-- function to return theme colors -->
		<script>
			function theme(type) {
				try {
					const userSettings = JSON.parse(localStorage.getItem('userSettings'));
					const currentTheme = userSettings ? +userSettings.displaySettings.websiteTheme : 6;

					const themes = {
						// White theme (light)
						// primary: white
						// secondary: #000000
						1: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-black',
							bgSecondaryMain: 'bg-black/5',
							text: 'text-black',
							textSecondary: '',
							border: 'border-black/10',
							icon: '#000000',
							input: 'focus:border-black focus:ring-black',
							checked: 'peer-checked:border-2 peer-checked:border-black peer-checked:border-black',
							toggles: 'bg-black/5 after:bg-white peer-checked:bg-black',
							hover: 'hover:bg-black/5',
							via: 'via-[#000000]'
						},

						// Blue theme (dark)
						// primary: #02021b
						// secondary: #c2c2c2
						2: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-[#c2c2c2]',
							bgSecondaryMain: 'bg-[#c2c2c2]/5',
							text: 'text-[#c2c2c2]',
							textSecondary: '',
							border: 'border-[#c2c2c2]/10',
							icon: '#c2c2c2',
							input: 'focus:border-[#c2c2c2] focus:ring-[#c2c2c2]',
							checked: 'peer-checked:border-2 peer-checked:border-[#c2c2c2] peer-checked:border-[#c2c2c2]',
							toggles: 'bg-[#c2c2c2]/5 after:bg-white peer-checked:bg-[#c2c2c2]',
							hover: 'hover:bg-[#c2c2c2]/5',
							via: 'via-[#c2c2c2]'
						},

						// Green theme (dark)
						// primary: #001617
						// secondary: #dddddd
						3: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-[#dddddd]',
							bgSecondaryMain: 'bg-[#dddddd]/5',
							text: 'text-[#dddddd]',
							textSecondary: '',
							border: 'border-[#dddddd]/10',
							icon: '#dddddd',
							input: 'focus:border-[#dddddd] focus:ring-[#dddddd]',
							checked: 'peer-checked:border-2 peer-checked:border-[#dddddd] peer-checked:border-[#dddddd]',
							toggles: 'bg-[#dddddd]/5 after:bg-white peer-checked:bg-[#dddddd]',
							hover: 'hover:bg-[#dddddd]/5',
							via: 'via-[#dddddd]'
						},

						// Black (OLED) theme (dark)
						// primary: black
						// secondary: #dddddd
						4: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-[#dddddd]',
							bgSecondaryMain: 'bg-[#dddddd]/5',
							text: 'text-[#dddddd]',
							textSecondary: '',
							border: 'border-[#dddddd]/10',
							icon: '#dddddd',
							input: 'focus:border-[#dddddd] focus:ring-[#dddddd]',
							checked: 'peer-checked:border-2 peer-checked:border-[#dddddd] peer-checked:border-[#dddddd]',
							toggles: 'bg-[#dddddd]/5 after:bg-white peer-checked:bg-[#dddddd]',
							hover: 'hover:bg-[#dddddd]/5',
							via: 'via-[#dddddd]'
						},

						// Sepia theme (Sepia)
						// primary: #e9e3d7
						// secondary: #553c0f
						5: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-[#553c0f]',
							bgSecondaryMain: 'bg-[#553c0f]/5',
							text: 'text-[#553c0f]',
							textSecondary: '',
							border: 'border-[#553c0f]/10',
							icon: '#553c0f',
							input: 'focus:border-[#553c0f] focus:ring-[#553c0f]',
							checked: 'peer-checked:border-2 peer-checked:border-[#553c0f] peer-checked:border-[#553c0f]',
							toggles: 'bg-[#553c0f]/5 after:bg-white peer-checked:bg-[#553c0f]',
							hover: 'hover:bg-[#553c0f]/5',
							via: 'via-[#553c0f]'
						},

						// Gold theme (light)
						// primary: white
						// secondary: #b1901f
						6: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-[#b1901f]',
							bgSecondaryMain: 'bg-[#b1901f]/5',
							text: 'text-black',
							textSecondary: 'text-[#b1901f]',
							border: 'border-[#b1901f]/20',
							icon: '#b1901f',
							input: 'focus:border-[#b1901f] focus:ring-[#b1901f]',
							checked: 'peer-checked:border-2 peer-checked:border-[#b1901f] peer-checked:border-[#b1901f]',
							toggles: 'bg-[#b1901f]/5 after:bg-white peer-checked:bg-[#b1901f]',
							hover: 'hover:bg-[#b1901f]/5',
							via: 'via-[#b1901f]'
						},

						// Coffee theme (dark)
						// primary: #20161f
						// secondary: #c59f60
						7: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-[#c59f60]',
							bgSecondaryMain: 'bg-[#c59f60]/5',
							text: 'text-[#c59f60]',
							textSecondary: 'text-[#c59f60]',
							border: 'border-[#c59f60]/20',
							icon: '#c59f60',
							input: 'focus:border-[#c59f60] focus:ring-[#c59f60]',
							checked: 'peer-checked:border-2 peer-checked:border-[#c59f60] peer-checked:border-[#c59f60]',
							toggles: 'bg-[#c59f60]/5 after:bg-white peer-checked:bg-[#c59f60]',
							hover: 'hover:bg-[#c59f60]/5',
							via: 'via-[#c59f60]'
						},

						// Silver theme (light)
						// primary: #e1e1e1
						// secondary: #000000
						8: {
							bgMain: `${window.websiteColors[currentTheme]}`,
							bgSecondary: 'bg-black',
							bgSecondaryMain: 'bg-black/5',
							text: 'text-black',
							textSecondary: 'text-black',
							border: 'border-black/20',
							icon: '#000000',
							input: 'focus:border-black focus:ring-black',
							checked: 'peer-checked:border-2 peer-checked:border-black peer-checked:border-black',
							toggles: 'bg-black/5 after:bg-white peer-checked:bg-black',
							hover: 'hover:bg-black/5',
							via: 'via-[#000000]'
						}
					};

					return themes[currentTheme][type] || '';
				} catch (error) {
					console.error('An error occurred while fetching the theme:', error);
					return '';
				}
			}

			window.theme = theme;
		</script>

		<!-- set the website theme - we put this code here to avoid the white flash and making people go blind -->
		<script>
			// Declare the theme variable
			let currentTheme;

			try {
				// Try to retrieve the user settings from localStorage and parse the JSON string
				const userSettings = JSON.parse(localStorage.getItem('userSettings'));

				// Check if displaySettings and websiteTheme exist in the parsed object
				if (userSettings && userSettings.displaySettings && userSettings.displaySettings.websiteTheme !== undefined) {
					currentTheme = userSettings.displaySettings.websiteTheme;
				} else {
					// Default theme in case the properties don't exist
					currentTheme = 1;
				}
			} catch (error) {
				// If there's an error during JSON parsing or any other issue, fallback to default theme
				currentTheme = 1;
			}

			// Apply the theme class to the document's root element
			document.documentElement.classList += `theme-${currentTheme} ${window.theme('bgMain')}`;
		</script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<script>
			document.body.classList.add(`${window.theme('text')}`);
		</script>

		<div style="display: contents">%sveltekit.body%</div>
		<!-- global audio player -->
		<audio id="player"></audio>
	</body>
</html>
