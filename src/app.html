<script>
	// a simple check for old iOS/Mac versions which do not support Optional chaining (?.), redirect these users to old website version
	// issue: https://github.com/sveltejs/kit/issues/5209
	// credit: https://stackoverflow.com/a/69935847
	try {
		eval('const foo = {}; foo?.bar');
	} catch {
		alert('Important Note: QuranWBW.com has recently been updated. Unfortunately, your current browser version is not compatible with the latest update. We recommend updating your browser to the latest version and trying again. To ensure a seamless experience, you will be redirected to the previous version once you close this alert.');
		window.location.replace('https://v3.quranwbw.com');
	}
</script>

<!doctype html>
<html lang="en">
	<head>
		<title>QuranWBW.com</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta name="og:type" content="website" />
		<meta name="theme-color" content="#f9f9f9" />
		<meta name="apple-mobile-web-app-status-bar-style" content="default" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="description" content="Quran Word By Word Translation, Transliteration And Morphology in English, Urdu, Hindi, Indonesian, Bangla, Turkish, Tamil, French, German, Russian, Ingush, Chinese, Malayalam and Divehi - QuranWBW.com" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="preload" href="%sveltekit.assets%/fonts/hafs/uthmanic_hafs_v22.woff2" as="font" type="font/woff2" crossorigin />
		<link rel="preload" href="%sveltekit.assets%/fonts/indopak/AlQuranIndoPakv5byQuranWBW.com-Regular.woff2" as="font" type="font/woff2" crossorigin />
		<link rel="preload" href="%sveltekit.assets%/fonts/bismillah/QCF_Bismillah_COLOR-Regular.woff2" as="font" type="font/woff2" crossorigin />
		<link crossorigin="anonymous" rel="manifest" href="%sveltekit.assets%/manifest.json" />
		<link crossorigin="anonymous" rel="icon" type="image/png" href="%sveltekit.assets%/images/favicon.png" />
		<link crossorigin="anonymous" href="%sveltekit.assets%/images/apple-touch-icon.png" rel="apple-touch-icon" />
		<link crossorigin="anonymous" rel="stylesheet" href="%sveltekit.assets%/css/global.css?9" />

		<!-- setting background colors for themes -->
		<script>
			window.bodyColors = {
				1: 'bg-[#f9f9f9]', // white
				2: 'bg-[#02021b]', // blue
				3: 'bg-[#001617]', // green
				4: 'bg-[#000000]', // black
				5: 'bg-[#e4d6bdc9]' // sepia
			};
		</script>

		<!-- set the website theme - we put this code here to avoid the white flash and making people go blind -->
		<script>
			let theme;

			try {
				theme = JSON.parse(localStorage.getItem('userSettings')).displaySettings.websiteTheme;
			} catch (error) {
				theme = 1;
			}

			document.documentElement.classList = `theme-${theme} ${window.bodyColors[theme]}`;
		</script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
		<!-- global audio player -->
		<audio id="player"></audio>
	</body>
</html>
